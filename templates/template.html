<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8">
    <title>犯罪予測マップ</title>

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
	  integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
	  crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
	    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
	    crossorigin=""></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">
    
    <style type="text/css">
      html{
	  height: 100%;
      }
      body{
	  font-family:'Kosugi Maru', sans-serif;
	  height: 100%;
      }
      #map{
	  width: 100%;
	  height: 100%;
      }      
    </style>
    
  </head>

  <body>
    
    <header class="sticky-top text-white bg-success pl-3 pt-3">
      <h1>犯罪予測マップ</h1>
      <p class="pb-2">
	愛知県警察が公開している犯罪オープンデータを利用して，地図に含まれる道路や建物などの要素から起こり得る犯罪種別を畳み込みニューラルネットワークで予測します．<br>
	地図をドラッグして移動させ，対象の区画を選んだ後に，「予測」ボタンをクリックしてください．
      </p>
    </header>

    <main class="h-100 mt-5 mb-5">
      <div id="map"></div>
    </main>
    
    <footer class="fixed-bottom text-white bg-success pb-1 pt-1">

      <div id="controller" class="bg-success mt-1 ml-3 mr-3 p-3">
	<button id="prediction" type="button" class="btn btn-warning">予測</button>
	<button id="reset" type="button" class="btn btn-warning">リセット</button>
      </div>      
      
      <p class="ml-4">&copy; Naoto Mukai 2021</p>
    </footer>

    <script>
      $(function(){

	  let center = L.latLng(35.170643059153, 136.8816945014);
	  let scale = 16;
	  
	  let map = L.map('map', {
	      attributionControl: false,
	      zoomControl: false,
	      minZoom: scale,
	      maxZoom: scale
	  });
	  map.setView(center, scale);

	  L.tileLayer(
              'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
              { attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors' }
	  ).addTo(map);

	  $("#reset").click(function(){
	      map.panTo(center);
	  });
	  
      })
      </script>
    
  </body>
</html>
